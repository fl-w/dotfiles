#!/bin/bash
FOREGROUND=$(xrdb -query | grep 'color6:'| awk 'NR==1{print $NF}')
# BACKGROUND=$(xrdb -query | grep 'color0:'| awk 'NR==1{print $NF}')
ROFI_OPTIONS=(-theme $HOME/.config/rofi/rofi_bar -theme-str "*{accent: ${FOREGROUND:-#FFFFFF}; bckgrd: ${BACKGROUND:-#000000};}")

apps=runapps
proj=projects
sodo=sudorun
exce=command
file=documents
clip=clipboard
cont=contacts
locl=local
pass=password
note=notes
task=tasks
conf=configs

another=$(echo "$file
$pass
$note
$cont
$task
$proj" | rofi "${ROFI_OPTIONS[@]}" -dmenu -i -p "search: ")

if [ "$another" == "$file" ] ; then
	exec ~/.config/rofi/menu/locate

elif [ "$another" == "$task" ] ; then
  exec ~/.config/rofi/menu/task

elif [ "$another" == "$note" ] ; then
  exec ~/.config/rofi/menu/note

elif [ "$another" == "$locl" ] ; then
	exec ~/.config/rofi/menu/marks $HOME/Sets/.notes/localhost.wiki

elif [ "$another" == "$cont" ] ; then
    exec ~/.config/rofi/menu/contacts

elif [ "$another" == "$proj" ] ; then
    pather=$(exec ~/.sbin/pro list | rofi "${ROFI_OPTIONS[@]}" -threads 0 -dmenu -i -p 'projects:') 
    nameer=$(basename $pather)
    [[ $pather ]] && sed -e "s|.*root.*|    root: $pather|" -e "1cname: \"$nameer\"" /home/bresilla/.config/tmux/PRO.yml > /home/bresilla/.config/tmux/PROT.yml && \
        tmass -l /home/bresilla/.config/tmux load PROT && kitty --class=til tmux attach -t $nameer

elif [ "$another" == "$pass" ] ; then
    exec ~/.config/rofi/menu/pass

elif [ -z "$another" ] ; then
	echo "variable empty"

else
  exec nohup $another > /dev/null 2>&1 &
fi
